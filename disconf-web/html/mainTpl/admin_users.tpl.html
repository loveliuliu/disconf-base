<%= page.basehead %>
<title>Disconf - 分布式配置管理平台</title>
<%= page.head %>

<div id="Wrapper" class="clearfix">
    <div id="Main" style="margin-top:50px;">
        <div class="container-fluid">
            <div class="row-fluid" style="min-height:400px;">
                <div class="sidebar span2" style="float:left;overflow:visible;">

                    <div class="dropdown" style="margin-top:20px;width:100%">
                        <span id="appDropdownMenuTitle" style="font-weight:bold;font-size: 20px;text-align: center">管理中心</span>
                    </div>

                    <ul id="envChoice" class="nav nav-pills nav-stacked" style="margin-top:20px;">
                        <li class="active"><a rel="1" href="#">用户管理</a></li>
                        <li class=""><a rel="2" href="#">APP管理</a></li>
                    </ul>

                </div>
                <div class="span10" style="float:left">
                    <div ng-app="listPageApp" ng-controller="listPageControl">
                        <div id="zk_deploy" class="row-fluid" style="margin-bottom:5px">
                        <span id="env_info" href="#" class="muted" style="float:left" title="" type="">
                        </span>
                        <span id="app_info" href="#" class="muted" style="float:left" title="" type="">
                        </span>
                        </div>

                        <div id="zk_deploy_info" style="padding-bottom:20px;">
                            <form novalidate>
                            <pre id="zk_deploy_info_pre" style="padding-top: 10px;white-space: nowrap">
                                用户名<input name="name" type="text" ng-model="user.name" >
                                角色名称
                                <select name="roleId" ng-model="user.roleId">
                                    <option value="">--请选择--</option>
                                    <option ng-repeat="r in roles" value="{{r.id}}">{{r.roleName}}</option>
                                </select>
                                <button class="btn-primary btn-large" ng-click="search()" >查询</button>
                                <button class="btn btn-info btn-large" ng-click="add()" >新建用户</button>
                            </pre>
                            </form>
                        </div>

                        <div class="row-fluid">

                            <div class="contentWrap clearfix">
                                <div id="mainlist_error" class="alert alert-warning" role="alert" style="display: none"></div>
                                <table id="mainlist"
                                       class="table table-bordered table-condensed table-hover account-tableWrap table-striped"
                                       style="display:table">
                                    <thead>
                                    <tr>
                                        <td>序号</td>
                                        <td>ID</td>
                                        <td>用户名</td>
                                        <td>角色</td>
                                        <td>操作</td>
                                    </tr>
                                    </thead>
                                    <tbody style="overflow-wrap: break-word;word-wrap: break-word;"
                                           class="account-tableWrap">
                                    <tr ng-repeat="user in userList">
                                        <td>{{ $index + 1 }}</td>
                                        <td>{{user.id}}</td>
                                        <td>{{user.name}}</td>
                                        <td style="max-width:100px">{{user.roleName}}</td>
                                        <td>
                                            <a ng-show="user.name!='admin'" ng-click="deleteUser(user.id);" style="cursor: pointer; cursor: hand; "><i title="删除" class="icon-remove"></i></a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <paging
                                page="page"
                                page-size="pageSize"
                                total="total"
                                text-first="第一页"
                                text-last="最后一页"
                                text-next="下一页"
                                text-prev="上一页"
                                show-prev-next="true"
                                show-first-last="true"
                                scroll-top="true"
                                paging-action="pagingAction(page, pageSize)"
                        ></paging>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<%= page.foot %>
<script src="assets/js/admin_user.js"></script>

<%= page.basefoot %>
